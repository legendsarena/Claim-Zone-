<!DOCTYPE html>
<html>
<head>
  <title>ClaimZone Chat & Earn</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body { background:#111; color:#fff; margin:0; font-family:sans-serif; text-align:center; }
    iframe { width:100%; height:80vh; border:none; margin-top:20px; }
    .btn { display:inline-block; padding:12px 24px; background:violet; color:black; border-radius:8px; text-decoration:none; margin-top:10px; }
    .message { background:#222; padding:14px; margin:16px; border-radius:12px; }
    input, select { padding:10px; width:85%; border-radius:8px; border:none; margin:5px 0; }
    button { padding:10px 20px; background:violet; color:black; border:none; border-radius:8px; margin-top:10px; }
    .hidden { display: none; }
  </style>
</head>
<body>
  <h2>💬 ClaimZone Chat & Earn</h2>

  <div class="message">
    📢 Task 1: Join our Telegram channel →  
    <a href="https://t.me/+xgpCrU_PZNE5ZmI9" target="_blank">Join Now</a>
  </div>

  <div class="message">
    💰 <b>Offer Wall: Complete Any Offer & Earn Coins</b><br><br>
    🔹 <b>Offer 1:</b> Install App & Earn <b>10 Coins</b><br>
    👉 <a href="https://singingfiles.com/show.php?l=0&u=2421068&id=70740" target="_blank">📲 Start Offer 1</a><br><br>

    🔹 <b>Offer 2:</b> Survey & Earn <b>8 Coins</b><br>
    👉 <a href="https://singingfiles.com/show.php?l=0&u=2421068&id=70069" target="_blank">📝 Start Offer 2</a><br><br>

    🔹 <b>Offer 3:</b> Bonus Offer & Earn <b>5 Coins</b><br>
    👉 <a href="https://singingfiles.com/show.php?l=0&u=2421068&id=58609" target="_blank">🎁 Start Offer 3</a>
  </div>

  <!-- ✅ NEW: Watch Ad & Earn Section -->
  <div class="message">
    <h3>🎥 Offer 4: Watch 1 Ad & Earn 5 Coins</h3>
    <div id="ads"></div>

    <form id="claimForm" class="hidden" action="https://formsubmit.co/claimzone888@gmail.com" method="POST">
      <p>✅ Ad complete! Enter your Telegram ID:</p>
      <input type="text" name="telegram_id" placeholder="Your Telegram ID" required><br>
      <input type="hidden" name="task" value="Offer 4 - Watched Ad">
      <input type="hidden" name="_subject" value="ClaimZone Offer 4 Completed">
      <button type="submit">🎁 Claim 5 Coins</button>
    </form>
  </div>

  <div class="message">
    <h3>📩 Claim Your Coins</h3>
    <input type="text" id="tgid" placeholder="Enter @Telegram username">
    <select id="task">
      <option value="">-- Select Task Completed --</option>
      <option>Joined Telegram</option>
      <option>Offer 1</option>
      <option>Offer 2</option>
      <option>Offer 3</option>
      <option>Offer 4</option>
    </select>
    <button onclick="submitTask()">✅ Submit</button>
    <p id="result" style="color:lime; margin-top:10px;"></p>
  </div>

  <iframe src="https://typebot.co/embed/my-typebot-1-gwciurj"></iframe>

  <!-- ✅ Adsterra Banner Ad -->
  <div style="text-align:center; margin-top:20px;">
    <iframe src="https://www.highperformanceformat.com/d739d8103ffd24986ac0eaf7451a2c0b/invoke.php"
            width="468" height="60"
            frameborder="0" scrolling="no"
            style="border:0;overflow:hidden;"></iframe>
  </div>

  <a href="https://claimzone.github.io" class="btn">🔙 Back to ClaimZone</a>

  <script>
    function submitTask() {
      const username = document.getElementById("tgid").value.trim();
      const task = document.getElementById("task").value;
      const result = document.getElementById("result");

      if (!username || !task) {
        result.innerText = "❌ Please enter Telegram ID and select a task.";
        return;
      }

      fetch("https://script.google.com/macros/s/AKfycbz_EsHtbPeYV6VpM0vDmxzi6ETjzNCB1apNoxCh0w9qlgbq4iAAZIBekHJ3ckYidRWt/exec", {
        method: "POST",
        body: JSON.stringify({ username, task }),
        headers: { "Content-Type": "application/json" }
      })
      .then(res => res.text())
      .then(data => {
        result.innerText = "✅ Task submitted! Coins will be credited soon.";
        document.getElementById("tgid").value = "";
        document.getElementById("task").value = "";
      })
      .catch(err => {
        result.innerText = "❌ Error submitting. Try again later.";
      });
    }

    // Ad Watch Logic
    const adCount = 1;
    let currentAd = 0;
    const adsContainer = document.getElementById("ads");
    const claimForm = document.getElementById("claimForm");

    function showNextAd() {
      if (currentAd >= adCount) {
        claimForm.classList.remove("hidden");
        return;
      }

      const ad = document.createElement("div");
      ad.innerHTML = `
        <p>Ad ${currentAd + 1} / ${adCount}</p>
        <iframe src="https://www.highperformanceformat.com/d739d8103ffd24986ac0eaf7451a2c0b/invoke.js" style="width:100%;height:90px;"></iframe>
        <button onclick="nextAd(this)">✅ Finished Watching</button>
      `;
      adsContainer.appendChild(ad);
    }

    function nextAd(button) {
      button.disabled = true;
      button.innerText = "✅ Completed";
      currentAd++;
      showNextAd();
    }

    showNextAd();
  </script>
</body>
</html>
